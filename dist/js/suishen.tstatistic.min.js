!function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){window.eTouch=window.eTouch||{},window.eTouch.tStatistic=window.eTouch.tStatistic||t(e)}):"undefined"!=typeof exports?t(e):(window.eTouch=window.eTouch||{},window.eTouch.tStatistic=window.eTouch.tStatistic||t(e))}(window,function(e){function t(e,t,n){function o(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function r(e,t){return e<<t|e>>>32-t}function i(e,t,n,i,c,a){return o(r(o(o(t,e),o(i,a)),c),n)}function c(e,t,n,o,r,c,a){return i(t&n|~t&o,e,t,r,c,a)}function a(e,t,n,o,r,c,a){return i(t&o|n&~o,e,t,r,c,a)}function u(e,t,n,o,r,c,a){return i(t^n^o,e,t,r,c,a)}function s(e,t,n,o,r,c,a){return i(n^(t|~o),e,t,r,c,a)}function g(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n,r,i,g,f,l=1732584193,h=-271733879,d=-1732584194,w=271733878;for(n=0;n<e.length;n+=16)r=l,i=h,g=d,f=w,l=c(l,h,d,w,e[n],7,-680876936),w=c(w,l,h,d,e[n+1],12,-389564586),d=c(d,w,l,h,e[n+2],17,606105819),h=c(h,d,w,l,e[n+3],22,-1044525330),l=c(l,h,d,w,e[n+4],7,-176418897),w=c(w,l,h,d,e[n+5],12,1200080426),d=c(d,w,l,h,e[n+6],17,-1473231341),h=c(h,d,w,l,e[n+7],22,-45705983),l=c(l,h,d,w,e[n+8],7,1770035416),w=c(w,l,h,d,e[n+9],12,-1958414417),d=c(d,w,l,h,e[n+10],17,-42063),h=c(h,d,w,l,e[n+11],22,-1990404162),l=c(l,h,d,w,e[n+12],7,1804603682),w=c(w,l,h,d,e[n+13],12,-40341101),d=c(d,w,l,h,e[n+14],17,-1502002290),h=c(h,d,w,l,e[n+15],22,1236535329),l=a(l,h,d,w,e[n+1],5,-165796510),w=a(w,l,h,d,e[n+6],9,-1069501632),d=a(d,w,l,h,e[n+11],14,643717713),h=a(h,d,w,l,e[n],20,-373897302),l=a(l,h,d,w,e[n+5],5,-701558691),w=a(w,l,h,d,e[n+10],9,38016083),d=a(d,w,l,h,e[n+15],14,-660478335),h=a(h,d,w,l,e[n+4],20,-405537848),l=a(l,h,d,w,e[n+9],5,568446438),w=a(w,l,h,d,e[n+14],9,-1019803690),d=a(d,w,l,h,e[n+3],14,-187363961),h=a(h,d,w,l,e[n+8],20,1163531501),l=a(l,h,d,w,e[n+13],5,-1444681467),w=a(w,l,h,d,e[n+2],9,-51403784),d=a(d,w,l,h,e[n+7],14,1735328473),h=a(h,d,w,l,e[n+12],20,-1926607734),l=u(l,h,d,w,e[n+5],4,-378558),w=u(w,l,h,d,e[n+8],11,-2022574463),d=u(d,w,l,h,e[n+11],16,1839030562),h=u(h,d,w,l,e[n+14],23,-35309556),l=u(l,h,d,w,e[n+1],4,-1530992060),w=u(w,l,h,d,e[n+4],11,1272893353),d=u(d,w,l,h,e[n+7],16,-155497632),h=u(h,d,w,l,e[n+10],23,-1094730640),l=u(l,h,d,w,e[n+13],4,681279174),w=u(w,l,h,d,e[n],11,-358537222),d=u(d,w,l,h,e[n+3],16,-722521979),h=u(h,d,w,l,e[n+6],23,76029189),l=u(l,h,d,w,e[n+9],4,-640364487),w=u(w,l,h,d,e[n+12],11,-421815835),d=u(d,w,l,h,e[n+15],16,530742520),h=u(h,d,w,l,e[n+2],23,-995338651),l=s(l,h,d,w,e[n],6,-198630844),w=s(w,l,h,d,e[n+7],10,1126891415),d=s(d,w,l,h,e[n+14],15,-1416354905),h=s(h,d,w,l,e[n+5],21,-57434055),l=s(l,h,d,w,e[n+12],6,1700485571),w=s(w,l,h,d,e[n+3],10,-1894986606),d=s(d,w,l,h,e[n+10],15,-1051523),h=s(h,d,w,l,e[n+1],21,-2054922799),l=s(l,h,d,w,e[n+8],6,1873313359),w=s(w,l,h,d,e[n+15],10,-30611744),d=s(d,w,l,h,e[n+6],15,-1560198380),h=s(h,d,w,l,e[n+13],21,1309151649),l=s(l,h,d,w,e[n+4],6,-145523070),w=s(w,l,h,d,e[n+11],10,-1120210379),d=s(d,w,l,h,e[n+2],15,718787259),h=s(h,d,w,l,e[n+9],21,-343485551),l=o(l,r),h=o(h,i),d=o(d,g),w=o(w,f);return[l,h,d,w]}function f(e){var t,n="",o=32*e.length;for(t=0;t<o;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){return f(g(l(e),8*e.length))}function d(e,t){var n,o,r=l(e),i=[],c=[];for(i[15]=c[15]=void 0,r.length>16&&(r=g(r,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],c[n]=1549556828^r[n];return o=g(i.concat(l(t)),512+8*t.length),f(g(c.concat(o),640))}function w(e){var t,n,o="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r}function v(e){return unescape(encodeURIComponent(e))}function S(e){return h(v(e))}function p(e){return w(S(e))}function m(e,t){return d(v(e),v(t))}function y(e,t){return w(m(e,t))}return t?n?m(t,e):y(t,e):n?S(e):p(e)}function n(){var e="",t="0123456789abcdefghijklmhopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";t=t.split("");for(var n=0;n<10;++n)e+=t[parseInt(62*Math.random())].toString();return e+=(new Date).getTime()}function o(){return s?s:(s=y.cookieStorage.getCookie(f))?(y.localStorage.checkLocalStorage(f)||y.localStorage.setLocalStorage(f,s),s):(s=y.localStorage.getLocalStorage(f))?(y.cookieStorage.setCookie(f,s),s):(s=n(),y.cookieStorage.setCookie(f,s),y.localStorage.setLocalStorage(f,s),s)}function r(){var e=m.getQueryString("channel")||"";if(e){var t={expires:(new Date).getTime(),value:e};y.localStorage.setLocalStorage(l,JSON.stringify(t))}if(!e){var t=y.localStorage.getLocalStorage(l);t&&(t=JSON.parse(t),t.expires>=(new Date).getTime()-1728e5&&(e=t.value))}return e||(e="own"),e}function i(e){var t=new Image;t.onerror=function(){setTimeout(function(){var t=new Image;t.src=e},3e3)},t.src=e}function c(e,n){e=encodeURI(JSON.stringify(e));var o=h+"?x="+e;return o+="&t="+n,o+="&s="+t(e+n).toString()}function a(e,t){var n={};n.identity={},n.identity.app_key=g.app_key?g.app_key:m.getAppKey(),n.identity.ssy_cookie_id=o(),n.identity.channel=g.channel?g.channel:r(),n.identity.r=m.getResolution(),n.identity.os=m.isIOS()?"IPHONE":"ANDROID",n.events=[];var i={};return i.e=g.event,i.id=e,i.t=t,i.c_id=g.c_id,i.md=g.md,i.c_m="",i.pos="",i.args="",g.c_m&&(i.c_m=g.c_m),g.pos&&(i.pos=g.pos),g.args&&(i.args=g.args),n.events.push(i),n}function u(e){return e.event?e.c_id?!!e.md||(console.error("md error "),!1):(console.error("c_id error "),!1):(console.error("event error "),!1)}var s,g,f="etouch_identity_id",l="etouch_channel",h="http://log-dmp.suishenyun.cn/collect_wevent_log.gif",d="99817749",w="99817882",v="99817321",S=[],p=1e4,m={getQueryString:function(e){var t=location.search,n=new Object;if(t.indexOf("?")!=-1)for(var o=t.substr(1),r=o.split("&"),i=0;i<r.length;i++)n[r[i].split("=")[0]]=decodeURI(r[i].split("=")[1]);return null==n[e]?"":n[e]},getResolution:function(){return window.screen.width+"*"+window.screen.height},isZhwnl:function(){},isIOS:function(){var e=navigator.userAgent.toLowerCase();return/iphone/i.test(e)||/ipad/i.test(e)||/ios/i.test(e)},getAppKey:function(){return m.isZhwnl()?m.isIOS()?w:d:v}},y={localStorage:{getLocalStorage:function(e){if(!window.localStorage)return"";var t=window.localStorage.getItem(e);return t?t:""},checkLocalStorage:function(e){return!!window.localStorage&&!!window.localStorage.getItem(e)},setLocalStorage:function(e,t){window.localStorage&&t&&window.localStorage.setItem(e,t)}},cookieStorage:{getCookie:function(e){var t,n="",o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))&&(n=unescape(t[2])),n},setCookie:function(e,t){var n=(new Date).getTime()+31536e6;document.cookie=e+"="+t+";expires="+n}}},S={cache:[],checkCache:function(){for(var e=g.c_id,t=g.md,n=g.event,o=(new Date).getTime(),r=0,i=this.cache.length;r<i;r++)if(e==this.cache[r].id&&t==this.cache[r].md&&n==this.cache[r].event)return o-this.cache[r].expires<=p||(this.cache.splice(r,1),!1);return!1},setCache:function(e){var t=g.c_id,n=g.md,o=g.event;this.cache.push({id:t,event:o,md:n,expires:e})}};return{send:function(e){if(u(e)){g=e;var t=(new Date).getTime(),o=n();if(!S.checkCache()){S.setCache(t);var r=a(o,t),s=c(r,t);i(s)}}}}});