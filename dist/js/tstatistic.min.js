!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.tStatistic=e()}(this,function(){"use strict";var t=(e.getLocalStorage=function(t){var e=window.localStorage.getItem(t);return e||""},e.checkLocalStorage=function(t){return!!window.localStorage.getItem(t)},e.setLocalStorage=function(t,e){e&&window.localStorage.setItem(t,e)},e.getCookie=function(t){var e,n="",o=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(o))&&(n=unescape(e[2])),n},e.setCookie=function(t,e){var n=(new Date).getTime()+31536e6;document.cookie=t+"="+e+";expires="+n},e);function e(){}function c(t,e,n){function p(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function s(t,e,n,o,i,r){return p((c=p(p(e,t),p(o,r)))<<(s=i)|c>>>32-s,n);var c,s}function d(t,e,n,o,i,r,c){return s(e&n|~e&o,t,e,i,r,c)}function f(t,e,n,o,i,r,c){return s(e&o|n&~o,t,e,i,r,c)}function l(t,e,n,o,i,r,c){return s(e^n^o,t,e,i,r,c)}function _(t,e,n,o,i,r,c){return s(n^(e|~o),t,e,i,r,c)}function a(t,e){var n,o,i,r,c;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var s=1732584193,a=-271733879,u=-1732584194,h=271733878;for(n=0;n<t.length;n+=16)s=d(o=s,i=a,r=u,c=h,t[n],7,-680876936),h=d(h,s,a,u,t[n+1],12,-389564586),u=d(u,h,s,a,t[n+2],17,606105819),a=d(a,u,h,s,t[n+3],22,-1044525330),s=d(s,a,u,h,t[n+4],7,-176418897),h=d(h,s,a,u,t[n+5],12,1200080426),u=d(u,h,s,a,t[n+6],17,-1473231341),a=d(a,u,h,s,t[n+7],22,-45705983),s=d(s,a,u,h,t[n+8],7,1770035416),h=d(h,s,a,u,t[n+9],12,-1958414417),u=d(u,h,s,a,t[n+10],17,-42063),a=d(a,u,h,s,t[n+11],22,-1990404162),s=d(s,a,u,h,t[n+12],7,1804603682),h=d(h,s,a,u,t[n+13],12,-40341101),u=d(u,h,s,a,t[n+14],17,-1502002290),s=f(s,a=d(a,u,h,s,t[n+15],22,1236535329),u,h,t[n+1],5,-165796510),h=f(h,s,a,u,t[n+6],9,-1069501632),u=f(u,h,s,a,t[n+11],14,643717713),a=f(a,u,h,s,t[n],20,-373897302),s=f(s,a,u,h,t[n+5],5,-701558691),h=f(h,s,a,u,t[n+10],9,38016083),u=f(u,h,s,a,t[n+15],14,-660478335),a=f(a,u,h,s,t[n+4],20,-405537848),s=f(s,a,u,h,t[n+9],5,568446438),h=f(h,s,a,u,t[n+14],9,-1019803690),u=f(u,h,s,a,t[n+3],14,-187363961),a=f(a,u,h,s,t[n+8],20,1163531501),s=f(s,a,u,h,t[n+13],5,-1444681467),h=f(h,s,a,u,t[n+2],9,-51403784),u=f(u,h,s,a,t[n+7],14,1735328473),s=l(s,a=f(a,u,h,s,t[n+12],20,-1926607734),u,h,t[n+5],4,-378558),h=l(h,s,a,u,t[n+8],11,-2022574463),u=l(u,h,s,a,t[n+11],16,1839030562),a=l(a,u,h,s,t[n+14],23,-35309556),s=l(s,a,u,h,t[n+1],4,-1530992060),h=l(h,s,a,u,t[n+4],11,1272893353),u=l(u,h,s,a,t[n+7],16,-155497632),a=l(a,u,h,s,t[n+10],23,-1094730640),s=l(s,a,u,h,t[n+13],4,681279174),h=l(h,s,a,u,t[n],11,-358537222),u=l(u,h,s,a,t[n+3],16,-722521979),a=l(a,u,h,s,t[n+6],23,76029189),s=l(s,a,u,h,t[n+9],4,-640364487),h=l(h,s,a,u,t[n+12],11,-421815835),u=l(u,h,s,a,t[n+15],16,530742520),s=_(s,a=l(a,u,h,s,t[n+2],23,-995338651),u,h,t[n],6,-198630844),h=_(h,s,a,u,t[n+7],10,1126891415),u=_(u,h,s,a,t[n+14],15,-1416354905),a=_(a,u,h,s,t[n+5],21,-57434055),s=_(s,a,u,h,t[n+12],6,1700485571),h=_(h,s,a,u,t[n+3],10,-1894986606),u=_(u,h,s,a,t[n+10],15,-1051523),a=_(a,u,h,s,t[n+1],21,-2054922799),s=_(s,a,u,h,t[n+8],6,1873313359),h=_(h,s,a,u,t[n+15],10,-30611744),u=_(u,h,s,a,t[n+6],15,-1560198380),a=_(a,u,h,s,t[n+13],21,1309151649),s=_(s,a,u,h,t[n+4],6,-145523070),h=_(h,s,a,u,t[n+11],10,-1120210379),u=_(u,h,s,a,t[n+2],15,718787259),a=_(a,u,h,s,t[n+9],21,-343485551),s=p(s,o),a=p(a,i),u=p(u,r),h=p(h,c);return[s,a,u,h]}function u(t){var e,n="",o=32*t.length;for(e=0;e<o;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function h(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var o=8*t.length;for(e=0;e<o;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function o(t){var e,n,o="0123456789abcdef",i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+=o.charAt(e>>>4&15)+o.charAt(15&e);return i}function i(t){return unescape(encodeURIComponent(t))}function r(t){return u(a(h(e=i(t)),8*e.length));var e}function c(t,e){return function(t,e){var n,o,i=h(t),r=[],c=[];for(r[15]=c[15]=void 0,16<i.length&&(i=a(i,8*t.length)),n=0;n<16;n+=1)r[n]=909522486^i[n],c[n]=1549556828^i[n];return o=a(r.concat(h(e)),512+8*e.length),u(a(c.concat(o),640))}(i(t),i(e))}return e?n?c(e,t):o(c(e,t)):n?r(t):o(r(t))}function i(){for(var t="",e="0123456789abcdefghijklmhopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=0;n<10;++n)t+=e[Math.floor(62*Math.random())];return t+=(new Date).getTime()}var n,o,r="etouch_identity_id",s=(n=navigator.userAgent.toLocaleLowerCase(),/iphone/i.test(n)||/ipad/i.test(n)||/ios/i.test(n)),a=function(t){var e=location.search,n=new Object;if(-1!=e.indexOf("?"))for(var o=e.substr(1).split("&"),i=0;i<o.length;i++)n[o[i].split("=")[0]]=decodeURI(o[i].split("=")[1]);return null==n[t]?"":n[t]}("channel")||"own",u=window.screen.width+"*"+window.screen.height,h=s?"IPHONE":"ANDROID",p=((o=t.getCookie(r))?t.checkLocalStorage(r)||t.setLocalStorage(r,o):(o=t.getLocalStorage(r))?t.setCookie(r,o):(o=i(),t.setCookie(r,o),t.setLocalStorage(r,o)),o),d=(f.sendLog=function(t,e,n){var o=encodeURI(JSON.stringify(e)),i=t+"?x="+o+"&t="+n+"&s="+c(o+n).toString(),r=new Image;r.onerror=function(){setTimeout(function(){(new Image).src=i},3e3)},r.src=i},f);function f(){}var l=function(){},_=function(){},g=function(t,e,n){this.identity=new l,this.events=new Array,this.identity.app_key=t.app_key,this.identity.ssy_cookie_id=p,this.identity.channel=t.channel,this.identity.r=u,this.identity.os=h,t.open_id&&(this.identity.open_id=t.open_id),t.union_id&&(this.identity.union_id=t.union_id),t.app_version&&(this.identity.app_version=t.app_version);var o=new _;o.e=e.event,o.id=i(),o.t=n,o.c_id=e.c_id,o.md=e.md,o.c_m=e.c_m,o.pos=e.pos,o.args=e.args,e.sess_event_cnt&&(o.sess_event_cnt=e.sess_event_cnt),e.session_id&&(o.session_id=e.session_id),e.accu_play_time&&(o.accu_play_time=e.accu_play_time),this.events.push(o)};function v(){this._version="1.2.5"}return new(v.prototype.checkAppKey=function(t){return!t&&(console.error("app_key error "),!0)},v.prototype.checkValue=function(t,e){return(""===e||void 0===e)&&(console.error(t+" error,this param can not be null"),!0)},v.prototype.init=function(t){this.checkAppKey(t.app_key)||(this._option=t,this._option.statistic_url||(this._option.statistic_url="https://log-dmp.weilitoutiao.net/collect_wevent_log.gif"),this._option.channel||(this._option.channel=a))},v.prototype.send=function(t){if(!(this.checkAppKey(this._option.app_key)||this.checkValue("event",t.event)||this.checkValue("c_id",t.c_id)||this.checkValue("md",t.md))){var e=(new Date).getTime(),n=new g(this._option,t,e);d.sendLog(this._option.statistic_url,n,e)}},v)});